<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Read/Write Structure From/to A File In C</title>
	<atom:link href="https://www.skillvertex.com/tag/read-write-structure-from-to-a-file-in-c/feed/" rel="self" type="application/rss+xml" />
	<link>https://www.skillvertex.com/blog</link>
	<description></description>
	<lastBuildDate>Wed, 06 Mar 2024 11:37:11 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.6.1</generator>

<image>
	<url>https://www.skillvertex.com/blog/wp-content/uploads/2024/01/favicon.png</url>
	<title>Read/Write Structure From/to A File In C</title>
	<link>https://www.skillvertex.com/blog</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Read/Write Structure From/to A File In C</title>
		<link>https://www.skillvertex.com/blog/read-write-structure-from-to-a-file-in-c/</link>
					<comments>https://www.skillvertex.com/blog/read-write-structure-from-to-a-file-in-c/#respond</comments>
		
		<dc:creator><![CDATA[Hridhya Manoj]]></dc:creator>
		<pubDate>Wed, 06 Mar 2024 11:37:11 +0000</pubDate>
				<category><![CDATA[C Programming]]></category>
		<category><![CDATA[Read/Write Structure From/to A File In C]]></category>
		<guid isPermaLink="false">https://www.skillvertex.com/blog/?p=3605</guid>

					<description><![CDATA[Read/Write Structure From/to A File In C When it comes to writing to a file in C, handling strings or integers is straightforward using fprintf and putc. But things can get tricky when dealing with the contents of a struct. That&#8217;s where fwrite and fread come in handy. They make it simpler to write and ... <a title="Read/Write Structure From/to A File In C" class="read-more" href="https://www.skillvertex.com/blog/read-write-structure-from-to-a-file-in-c/" aria-label="More on Read/Write Structure From/to A File In C">Read more</a>]]></description>
										<content:encoded><![CDATA[
<div class="wp-block-rank-math-toc-block" id="rank-math-toc" id="rank-math-toc"><h6>Table of Contents</h6><nav><ul><li ><a href="#read-write-structure-from-to-a-file-in-c">Read/Write Structure From/to A File In C</a></li><li ><a href="#writing-structure-to-a-file-using-fwrite">Writing Structure to a File using fwrite</a></li><li ><a href="#reading-structure-from-a-file-using-fread">Reading Structure from a File using fread</a></li><li ><a href="#faq-read-write-structure-from-to-a-file-in-c">FAQ- Read/Write Structure From/to A File In C</a></li></ul></nav></div>



<h2 class="wp-block-heading" id="read-write-structure-from-to-a-file-in-c">Read/Write Structure From/to A File In C</h2>



<p>When it comes to writing to a file in C, handling strings or integers is straightforward using <code>fprintf</code> and <code>putc</code>. But things can get tricky when dealing with the contents of a struct. That&#8217;s where <code>fwrite</code> and <code>fread</code> come in handy. They make it simpler to write and read chunks of data, especially when you&#8217;re working with structures. Instead of dealing with individual elements, you can handle the entire block of data more efficiently.</p>



<h2 class="wp-block-heading" id="writing-structure-to-a-file-using-fwrite">Writing Structure to a File using fwrite</h2>



<p>We can use fwrite() function to write a structure in a file. Hence, fwrite() function will write to the file stream in the form of a binary data block.</p>



<p><strong>Syntax of fwrite()</strong></p>



<pre class="wp-block-code"><code>size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream)
</code></pre>



<p>Parameters</p>



<ul class="wp-block-list">
<li><code>ptr</code>: Pointer to the block of memory from which data will be written.</li>



<li><code>size</code>: Size of each element to be written, specified in bytes.</li>



<li><code>nmemb</code>: Number of elements, each of size <code>size</code>, to be written.</li>



<li><code>stream</code>: FILE pointer to the output file stream where the data will be written.</li>
</ul>



<p>Return Value</p>



<p>Number of objects that will be written</p>



<p><strong>Example</strong></p>



<pre class="wp-block-code"><code>// C program for writing
// struct to file
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
// a struct to be read and written
struct person {
    int id;
    char fname&#91;20];
    char lname&#91;20];
};
 
int main()
{
    FILE* outfile;
 
    // open file for writing
    outfile = fopen("person.bin", "wb");
    if (outfile == NULL) {
        fprintf(stderr, "\nError opened file\n");
        exit(1);
    }
 
    struct person input1 = { 1, "rohan", "sharma" };
 
    // write struct to file
    int flag = 0;
    flag = fwrite(&amp;input1, sizeof(struct person), 1,
                  outfile);
    if (flag) {
        printf("Contents of the structure written "
               "successfully");
    }
    else
        printf("Error Writing to File!");
 
    // close file
    fclose(outfile);
    return 0;
}
 </code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>Contents of the structure written successfully
</code></pre>



<h2 class="wp-block-heading" id="reading-structure-from-a-file-using-fread">Reading Structure from a File using fread</h2>



<p>We could read structure from a file using fread() function. This function will  read a block of memory from the given stream.</p>



<p>Syntax</p>



<pre class="wp-block-code"><code>size_t fread(void *ptr, size_t size, size_t nmemb, FILE *stream) 
</code></pre>



<p>Parameters</p>



<ul class="wp-block-list">
<li><code>ptr</code>: Pointer to the block of memory where the read data will be stored.</li>



<li><code>size</code>: Size of each element to be read, specified in bytes.</li>



<li><code>nmemb</code>: Number of elements, each of size <code>size</code>, to be read.</li>



<li><code>stream</code>: FILE pointer to the input file stream from which data will be read.</li>
</ul>



<p>Return Value</p>



<p>Number of objects that will be written</p>



<p>Example</p>



<pre class="wp-block-code"><code>// C program for reading
// struct from a file
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
// struct person with 3 fields
struct person {
    int id;
    char fname&#91;20];
    char lname&#91;20];
};
 
// Driver program
int main()
{
    FILE* infile;
 
    // Open person.dat for reading
    infile = fopen("person1.dat", "wb+");
    if (infile == NULL) {
        fprintf(stderr, "\nError opening file\n");
        exit(1);
    }
 
    struct person write_struct = { 1, "Rohan", "Sharma" };
 // writing to file
    fwrite(&amp;write_struct, sizeof(write_struct), 1, infile);
 
    struct person read_struct;
 
    // setting pointer to start of the file
    rewind(infile);
 
    // reading to read_struct
    fread(&amp;read_struct, sizeof(read_struct), 1, infile);
 
    printf("Name: %s %s \nID: %d", read_struct.fname,
           read_struct.lname, read_struct.id);
 
    // close file
    fclose(infile);
 
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>Name: Rohan Sharma 
ID: 1</code></pre>



<h2 class="wp-block-heading" id="faq-read-write-structure-from-to-a-file-in-c">FAQ- Read/Write Structure From/to A File In C</h2>


<div id="rank-math-faq" class="rank-math-block">
<div class="rank-math-list ">
<div id="faq-question-1700224162762" class="rank-math-list-item">
<h4 class="rank-math-question ">Q1. How to write and read a structure to a file in C?</h4>
<div class="rank-math-answer ">

<p>Ans. fwrite() syntax. is  fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream) &#8230;<br />fread() syntax. fread(void *ptr, size_t size, size_t nmemb, FILE *stream) &#8230;<br />Algorithm. Start to  Create a Structure Student to declare variables. &#8230;<br />Example Code.<br />Ouput. will show Contents to file written successfully !</p>

</div>
</div>
<div id="faq-question-1700224171039" class="rank-math-list-item">
<h4 class="rank-math-question ">Q2.What is file structure in C?</h4>
<div class="rank-math-answer ">

<p>Ans. The <code>FILE</code> type in C is a structure, defined in <code>stdio.h</code>, representing a file stream. It&#8217;s an opaque data type, so users interact with it using pointers, while the library manages its internal details. The <code>FILE</code> structure holds information about the file stream&#8217;s state, allowing consistent file I/O operations across different systems.</p>

</div>
</div>
<div id="faq-question-1700224183772" class="rank-math-list-item">
<h4 class="rank-math-question ">Q3. How to read from a structure in C?</h4>
<div class="rank-math-answer ">

<p>Ans. The C function to read a structure isÂ <strong>fread()</strong>. The format is: fread (* struct, size, count, file);</p>

</div>
</div>
</div>
</div><div class="saboxplugin-wrap"   ><div class="saboxplugin-tab"><div class="saboxplugin-gravatar"><img alt='Hridhya Manoj' src='https://secure.gravatar.com/avatar/04ae736fcf3d5b340b054cf103f576c9?s=100&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/04ae736fcf3d5b340b054cf103f576c9?s=200&#038;d=mm&#038;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' /></div><div class="saboxplugin-authorname"><a href="https://www.skillvertex.com/blog/author/hridhya-manoj/" class="vcard author" rel="author"><span class="fn">Hridhya Manoj</span></a></div><div class="saboxplugin-desc"><div ><p>Hello, I&#8217;m Hridhya Manoj. I&#8217;m passionate about technology and its ever-evolving landscape. With a deep love for writing and a curious mind, I enjoy translating complex concepts into understandable, engaging content. Let&#8217;s explore the world of tech together</p>
</div></div><div class="clearfix"></div></div></div>]]></content:encoded>
					
					<wfw:commentRss>https://www.skillvertex.com/blog/read-write-structure-from-to-a-file-in-c/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
