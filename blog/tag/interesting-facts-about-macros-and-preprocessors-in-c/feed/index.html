<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Interesting Facts about Macros and Preprocessors in C</title>
	<atom:link href="https://www.skillvertex.com/tag/interesting-facts-about-macros-and-preprocessors-in-c/feed/" rel="self" type="application/rss+xml" />
	<link>https://www.skillvertex.com/blog</link>
	<description></description>
	<lastBuildDate>Tue, 05 Mar 2024 12:48:56 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.6.1</generator>

<image>
	<url>https://www.skillvertex.com/blog/wp-content/uploads/2024/01/favicon.png</url>
	<title>Interesting Facts about Macros and Preprocessors in C</title>
	<link>https://www.skillvertex.com/blog</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Interesting Facts About Macros And Preprocessors In C</title>
		<link>https://www.skillvertex.com/blog/interesting-facts-about-macros-and-preprocessors-in-c/</link>
					<comments>https://www.skillvertex.com/blog/interesting-facts-about-macros-and-preprocessors-in-c/#respond</comments>
		
		<dc:creator><![CDATA[Hridhya Manoj]]></dc:creator>
		<pubDate>Tue, 05 Mar 2024 12:48:56 +0000</pubDate>
				<category><![CDATA[C Programming]]></category>
		<category><![CDATA[Interesting Facts about Macros and Preprocessors in C]]></category>
		<guid isPermaLink="false">https://www.skillvertex.com/blog/?p=3291</guid>

					<description><![CDATA[Interesting Facts About Macros And Preprocessors In C In C programming, lines that start with # are instructions for a special program called the preprocessor, which is called by the compiler. The preprocessor works before your program actually runs, during the compilation process. Here are some interesting things about the C preprocessor: 1) When you ... <a title="Interesting Facts About Macros And Preprocessors In C" class="read-more" href="https://www.skillvertex.com/blog/interesting-facts-about-macros-and-preprocessors-in-c/" aria-label="More on Interesting Facts About Macros And Preprocessors In C">Read more</a>]]></description>
										<content:encoded><![CDATA[
<div class="wp-block-rank-math-toc-block" id="rank-math-toc" id="rank-math-toc"><p>Table of Contents</p><nav><ul><li ><a href="#interesting-facts-about-macros-and-preprocessors-in-c">Interesting Facts About Macros And Preprocessors In C</a></li><li ><a href="#example-to-illustrate-that-max-is-defined-as-100">Example-to illustrate that max is defined as 100</a></li><li ><a href="#faq-interesting-facts-about-macros-and-preprocessors-in-c">FAQ- Interesting Facts about Macros and Preprocessors in C</a></li></ul></nav></div>



<h2 class="wp-block-heading" id="interesting-facts-about-macros-and-preprocessors-in-c">Interesting Facts About Macros And Preprocessors In C</h2>



<p>In C programming, lines that start with # are instructions for a special program called the preprocessor, which is called by the compiler. The preprocessor works before your program actually runs, during the compilation process.</p>



<p>Here are some interesting things about the C preprocessor:</p>



<p>1) When you use &#8220;#include,&#8221; it&#8217;s like taking the content of another file and putting it into your program. Think of it like copying and pasting. You can tell the preprocessor to look for that file in a standard place (using &lt; and &gt;) or in your current folder (using double quotes).</p>



<p>2) When you use &#8220;#define&#8221; to create a constant, the preprocessor replaces that constant with a specific value wherever you use it in your program. For example, if you define &#8220;max&#8221; as 100, every time you use &#8220;max&#8221; in your code, it&#8217;s replaced with 100. This makes your code easier to read and understand.</p>



<p>In a nutshell, the preprocessor is like a helper that simplifies your code and makes it easier for the computer to understand before your program runs.</p>



<h2 class="wp-block-heading" id="example-to-illustrate-that-max-is-defined-as-100">Example-to illustrate that max is defined as 100</h2>



<pre class="wp-block-code"><code>

#include &lt;stdio.h&gt;
#define max 100
int main()
{
    printf("max is %d", max);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>max is 100</code></pre>



<p>3)Macros in C can indeed take function-like arguments, and they don&#8217;t perform data type checking. This means you can use macros like the one you mentioned, &#8220;INCREMENT,&#8221; for variables of any data type. The macro doesn&#8217;t care about the data type of the argument; it simply performs text substitution.</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
#define INCREMENT(x) ++x
int main()
{
    char* ptr = "Skill Vertex ";
    int x = 10;
    printf("%s  ", INCREMENT(ptr));
    printf("%d", INCREMENT(x));
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>kill Vertex  11</code></pre>



<p>4) Macro arguments are not analyzed before macro expansion. Refer to the program given below</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
#define MULTIPLY(a, b) a* b
int main()
{
    // The macro is expanded as 2 + 3 * 3 + 5, not as 5*8
    printf("%d", MULTIPLY(2 + 3, 3 + 5));
    return 0;
}
// Output: 16</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>16</code></pre>



<p><strong>Another way to solve this program</strong> :</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
// here, instead of writing a*a we write (a)*(b)
#define MULTIPLY(a, b) (a) * (b)
int main()
{
    // The macro is expanded as (2 + 3) * (3 + 5), as 5*8
    printf("%d", MULTIPLY(2 + 3, 3 + 5));
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>40</code></pre>



<p>5) The tokens that are passed to macros will be linked with the help of operator # # which is referred to as a Token-Pasting operator.</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
#define merge(a, b) a##b
int main() { printf("%d ", merge(12, 34)); }</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>1234</code></pre>



<p>6) The token that is passed to macro will be transferred to a string literal with the # before it.</p>



<pre class="wp-block-code"><code>

#include &lt;stdio.h&gt;
#define get(a) #a
int main()
{
    // Skillvertex is changed to "Skillvertex "
    printf("%s", get(Skillvertex));
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>Skillvertex</code></pre>



<p>7) The Macros will be noted in multiple lines with the &#8216;\&#8217;. However, the last line doesn&#8217;t require &#8216;\&#8217;</p>



<pre class="wp-block-code"><code>

#include &lt;stdio.h&gt;
#define PRINT(i, limit)                                    \
    while (i &lt; limit) {                                    \
        printf("Skillvertex ");                              \
        i++;                                               \
    }
int main()
{
    int i = 0;
    PRINT(i, 3);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>Skillvertex  Skillvertex  Skillvertex</code></pre>



<p>8) We have to ignore the macros with the arguments as it can create problems sometimes. Therefore, Inline functions should be considered due to the type-checking parameter evaluation in inline functions. Thus, From&nbsp;C99&nbsp;onward, inline functions are supported by C language.&nbsp;</p>



<p>Refer to the program given below. We can understand that the possible output will be 1, however, it shows 36 as the output</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
 
#define square(x) x* x
int main()
{
    // Expanded as 36/6*6
    int x = 36 / square(6);
    printf("%d", x);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>36</code></pre>



<p>Another way to get the expected output as 1 is given below:</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
 
#define square(x) (x * x)
int main()
{
    // Expanded as 36/(6*6)
    int x = 36 / square(6);
    printf("%d", x);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>1</code></pre>



<p>Thus, we can conclude that inline functions can be used in the above program to get the desired result.  Refer to the program given below how to use inline functions.  Also, the program which is provided in point 4 can be corrected using the inline functions.</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
 
static inline int square(int x) { return x * x; }
int main()
{
    int x = 36 / square(6);
    printf("%d", x);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>1</code></pre>



<p>9) Preprocessors in C and C++ support conditional compilation using <code>#if</code>, <code>#ifdef</code>, <code>#ifndef</code>, <code>#elif</code>, and <code>#else</code> directives. These directives are used to conditionally include or exclude portions of code from the compilation process based on specified conditions.</p>



<pre class="wp-block-code"><code>int main()
{
#if VERBOSE &gt;= 2
    printf("Trace Message");
#endif
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>No Output</code></pre>



<p>10) In C and C++ programming, it&#8217;s common for header files to be included multiple times, either directly or indirectly through other header files. This can lead to issues like redeclaration of the same variables or functions, which can cause compilation errors.</p>



<p>To address this problem, preprocessor directives like <code>#define</code>, <code>#ifdef</code>, and <code>#ifndef</code> are often used in header files. Here&#8217;s how they are typically employed</p>



<p>11) Standard macros functions to print program file ( __FILE), Date of compilation (__DATE__), Time of Compilation (__TIME__) and Line Number in C Code  (__LINE__)</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
 
int main()
{
    printf("Current File :%s\n", __FILE__);
    printf("Current Date :%s\n", __DATE__);
    printf("Current Time :%s\n", __TIME__);
    printf("Line Number :%d\n", __LINE__);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>Current File :/usr/share/IDE_PROGRAMS/C/other/081c548d50135ed88cfa0296159b05ca/081c548d50135ed88cfa0296159b05ca.c
Current Date :Sep  4 2019
Current Time :10:17:43
Line Number :8</code></pre>



<p>12) Defined Macros can be removed using the #undef MACRO_NAME</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
#define LIMIT 100
int main()
{
    printf("%d", LIMIT);
// removing defined macro LIMIT
#undef LIMIT
    // Next line causes error as LIMIT is not defined
    printf("%d", LIMIT);
    return 0;
}</code></pre>



<p><strong>In the program given below, limit as an integer variable is declared after removing previously defined macro LIMIT</strong></p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
#define LIMIT 1000
int main()
{
    printf("%d", LIMIT);
// removing defined macro LIMIT
#undef LIMIT
    // Declare LIMIT as integer again
    int LIMIT = 1001;
    printf("\n%d", LIMIT);
    return 0;
}</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>1000
1001</code></pre>



<p>Interesting fact about macro using (#undef) is described using the program given below:</p>



<pre class="wp-block-code"><code>#include &lt;stdio.h&gt;
// div function prototype
float div(float, float);
#define div(x, y) x / y
 
int main()
{
    // use of macro div
    // Note: %0.2f for taking two decimal value after point
    printf("%0.2f", div(10.0, 5.0));
// removing defined macro div
#undef div
    // function div is called as macro definition is removed
    printf("\n%0.2f", div(10.0, 5.0));
    return 0;
}
 
// div function definition
float div(float x, float y) { return y / x; }</code></pre>



<p>Output</p>



<pre class="wp-block-code"><code>2.00
0.50</code></pre>



<h2 class="wp-block-heading" id="faq-interesting-facts-about-macros-and-preprocessors-in-c">FAQ- Interesting Facts about Macros and Preprocessors in C</h2>


<div id="rank-math-faq" class="rank-math-block">
<div class="rank-math-list ">
<div id="faq-question-1699348433435" class="rank-math-list-item">
<h4 class="rank-math-question ">Q1. What is the purpose C preprocessor macros?</h4>
<div class="rank-math-answer ">

<p>Ans. The C preprocessor is a tool that transforms your code before compilation. It handles tasks like including header files, expanding macros, and performing conditional compilation. It makes your code more readable and prepares it for the compiler.</p>

</div>
</div>
<div id="faq-question-1699348442442" class="rank-math-list-item">
<h4 class="rank-math-question ">Q2. Which is faster preprocessor or macro?</h4>
<div class="rank-math-answer ">

<p>Ans. When it comes to macros in C/C++, one of the main advantages is speed – they lead to faster execution. Macros are expanded (replaced with their definitions) directly in the code each time they are used. In contrast, a function definition is processed only once, no matter how many times it&#8217;s called. This speed advantage makes macros suitable for certain performance-critical scenarios.</p>

</div>
</div>
<div id="faq-question-1699348455178" class="rank-math-list-item">
<h4 class="rank-math-question ">Q3. Can we change macro value in C?</h4>
<div class="rank-math-answer ">

<p>Ans. In C, when you define a macro, it stays effective in your program from the moment you define it until you change it, remove it, or finish compiling your program. So, if you change the value of a macro, that new value will be used throughout your program unless you change it again or until you finish writing your code. This can be handy for controlling how certain parts of your program work.</p>

</div>
</div>
</div>
</div><div class="saboxplugin-wrap"   ><div class="saboxplugin-tab"><div class="saboxplugin-gravatar"><img alt='Hridhya Manoj' src='https://secure.gravatar.com/avatar/04ae736fcf3d5b340b054cf103f576c9?s=100&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/04ae736fcf3d5b340b054cf103f576c9?s=200&#038;d=mm&#038;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' /></div><div class="saboxplugin-authorname"><a href="https://www.skillvertex.com/blog/author/hridhya-manoj/" class="vcard author" rel="author"><span class="fn">Hridhya Manoj</span></a></div><div class="saboxplugin-desc"><div ><p>Hello, I&#8217;m Hridhya Manoj. I&#8217;m passionate about technology and its ever-evolving landscape. With a deep love for writing and a curious mind, I enjoy translating complex concepts into understandable, engaging content. Let&#8217;s explore the world of tech together</p>
</div></div><div class="clearfix"></div></div></div>]]></content:encoded>
					
					<wfw:commentRss>https://www.skillvertex.com/blog/interesting-facts-about-macros-and-preprocessors-in-c/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
