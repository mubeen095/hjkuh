{"id":1849,"date":"2024-05-10T06:51:14","date_gmt":"2024-05-10T06:51:14","guid":{"rendered":"https:\/\/www.skillvertex.com\/blog\/?p=1849"},"modified":"2024-05-10T06:51:14","modified_gmt":"2024-05-10T06:51:14","slug":"internal-linkage-and-external-linkage-in-c","status":"publish","type":"post","link":"https:\/\/www.skillvertex.com\/blog\/internal-linkage-and-external-linkage-in-c\/","title":{"rendered":"Internal Linkage And External Linkage In C"},"content":{"rendered":"\n<div class=\"wp-block-rank-math-toc-block\" id=\"rank-math-toc\" id=\"rank-math-toc\"><p>Table of Contents<\/p><nav><ul><li ><a href=\"#internal-linkage-and-external-linkage-in-c\">Internal Linkage And External Linkage In C<\/a><\/li><li ><a href=\"#definitions\">Definitions <\/a><\/li><li ><a href=\"#what-is-linkage\">What is Linkage <\/a><\/li><li ><a href=\"#types-of-linkage\">Types Of Linkage <\/a><\/li><li ><a href=\"#faq-internal-linkage-and-external-linkage-in-c\">FAQ- Internal Linkage And External Linkage In C<\/a><\/li><\/ul><\/nav><\/div>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"internal-linkage-and-external-linkage-in-c\">Internal Linkage And External Linkage In C<\/h2>\n\n\n\n<p>In the world of C programming, we need to understand how variables and functions are connected within our code. Two important ideas in this context are &#8220;Internal Linkage&#8221; and &#8220;External Linkage.&#8221; These concepts determine where variables and functions can be used and shared in a C program. In simple terms, we&#8217;ll explore what Internal Linkage and External Linkage mean in C and how they affect your code, offering guidance on managing variables and functions effectively. Let&#8217;s dive into these concepts in C programming!<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"definitions\">Definitions <\/h2>\n\n\n\n<p><strong>Scope<\/strong>: Scope refers to where in a program an identifier can be directly accessed. In C, all identifiers follow lexical (or static) scoping.<\/p>\n\n\n\n<p><strong>Linkage: <\/strong>Linkage, on the other hand, is about whether names can refer to the same thing across the entire program or within a single translation unit.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>Translation Unit<\/strong>: A translation unit is like a package containing source code, header files, and other dependencies. These elements are bundled together to form a single translation unit, which the compiler uses to create a single executable object. It&#8217;s crucial to link these sources together effectively. For example, the compiler needs to know that the definition of &#8220;printf&#8221; can be found in the &#8220;stdio&#8221; header file.<\/p>\n\n\n\n<p>So, while scope deals with where identifiers can be used, linkage is about how names can refer to the same thing across the program or a translation unit.<\/p>\n\n\n\n<p><strong>Note :<\/strong><\/p>\n\n\n\n<p>In C and C++, when you have a program made up of multiple source code files, each file is compiled one by one. During the compilation process, variables are described by their scope, which is handled by the compiler. However, it&#8217;s only when the linking process begins that the concept of linkage becomes important. So, scope is a property managed by the compiler, while linkage is a property managed by the linker.<\/p>\n\n\n\n<p>The Linker, in the linking stage of the compilation process, brings all the program&#8217;s resources together. It&#8217;s like a program that takes multiple machine code files as input and generates an executable object code. The Linker&#8217;s job includes resolving symbols (like finding the definitions of symbols such as &#8220;+&#8221;) and organizing objects in the program&#8217;s memory address space.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"what-is-linkage\">What is Linkage <\/h2>\n\n\n\n<p>Linkage in programming refers to how variables and symbols are connected or linked together by the linker during the compilation process. It determines whether a variable or function can be used across different parts of a program or within a single translation unit. Linkage is an important concept in ensuring the correct organization and functioning of a program.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"types-of-linkage\">Types Of Linkage <\/h2>\n\n\n\n<p><strong>Internal Linkage<\/strong>: Internal linkage in programming means that an identifier is not accessible from outside the translation unit in which it is declared. However, any identifier within the same unit can access an identifier with internal linkage. Internal linkage is achieved by using the &#8220;static&#8221; keyword. Identifiers with internal linkage are stored in a segment of RAM, whether it&#8217;s initialized or uninitialized. It&#8217;s important to note that the term &#8220;static&#8221; can have different meanings in reference to both linkage and scope in programming, but here we&#8217;re focusing on linkage.<\/p>\n\n\n\n<p>Example<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ C code to illustrate Internal Linkage\n#include &lt;stdio.h&gt;\n  \nstatic int animals = 8;\nconst int i = 5;\n  \nint call_me(void)\n{\n    printf(\"%d %d\", i, animals);\n}<\/code><\/pre>\n\n\n\n<p>The above code implements static linkage on an identifier&nbsp;<code>animals<\/code>. We have to Consider&nbsp;<code>Feed.cpp<\/code>&nbsp;is located in the same translation unit.<\/p>\n\n\n\n<p><strong>Feed. cpp<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ C code to illustrate Internal Linkage\n#include &lt;stdio.h&gt;\n  \nint main()\n{\n    call_me();\n    animals = 2;\n    printf(\"%d\", animals);\n    return 0;\n}<\/code><\/pre>\n\n\n\n<p>Output <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>5 8 2<\/code><\/pre>\n\n\n\n<p>Then, we have to consider that Feed.cpp is located in a different translation unit. It will compile and run as above only if we use&nbsp;<code>#include \"Animals.cpp\"<\/code>.<br>Suppose  Wash. cpp is located in a 3rd translation unit.<\/p>\n\n\n\n<p><strong>Wash.cpp<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ C code to illustrate Internal Linkage\n#include &lt;stdio.h&gt;\n#include \"animal.cpp\" \/\/ note that animal is included.\n  \nint main()\n{\n    call_me();\n    printf(\"\\n having fun washing!\");\n    animals = 10;\n    printf(\"%d\\n\", animals);\n    return 0;\n}<\/code><\/pre>\n\n\n\n<p>On compiling, we will get output as <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>output : 5 8\nhaving fun washing!\n10<\/code><\/pre>\n\n\n\n<p>In a situation where you have three translation units (Animals, Feed, and Wash) using the &#8220;animals&#8221; code, each translation unit has its own copy of the &#8220;animals&#8221; identifier. This is why you observe different values for &#8220;animals&#8221; in each translation unit: 8 for Animals.cpp, 2 for Feed.cpp, and 10 for Wash.cpp. Each translation unit maintains its own separate instance of the &#8220;animals&#8221; variable.<\/p>\n\n\n\n<p>This behavior can consume memory and potentially decrease performance, especially if multiple copies of the same data are being stored in different parts of the program.<\/p>\n\n\n\n<p>It&#8217;s important to note that internal linkage is applied when a variable has global scope, and all constants are by default internally linked. This means that variables with internal linkage are not visible outside their translation unit and are not shared across different parts of the program.<\/p>\n\n\n\n<p>Internal linkage serves a useful purpose in managing the organization of functions and variables within a program. When a variable has internal linkage, it is passed by copy. This means that if a header file contains a function, let&#8217;s say &#8220;fun1(),&#8221; and the source code in which it&#8217;s included also defines &#8220;fun1()&#8221; with a different implementation, there won&#8217;t be a conflict. This is because these two functions with internal linkage are independent of each other within their respective translation units.<\/p>\n\n\n\n<p>This feature allows us to use internal linkage to hide translation-unit-local helper functions from the global scope. For example, you might include a header file containing a method to read input from the user in a file that also describes another method to read input. These two functions, with internal linkage, remain separate and don&#8217;t interfere with each other when linked together in the final program. This helps keep the code organized and reduces the likelihood of naming conflicts.<\/p>\n\n\n\n<p><strong>External Linkage :<\/strong> <\/p>\n\n\n\n<p>External linkage in programming means that an identifier is visible to every translation unit, or in other words, it&#8217;s visible throughout the entire program. Externally linked identifiers are shared between different parts of the program and are considered to exist at the outermost level of the program. For an externally linked identifier, there must be only one visible definition in the entire program. This means that you need to define it in a place that&#8217;s visible to all parts of the program so that there&#8217;s only a single definition.<\/p>\n\n\n\n<p>External linkage is the default linkage for globally scoped variables and functions. When you use the &#8220;extern&#8221; keyword, you&#8217;re telling the linker to look for the definition of the identifier elsewhere. Therefore, the declaration of an externally linked identifier doesn&#8217;t occupy any space.<\/p>\n\n\n\n<p>Externally linked identifiers are typically stored in the initialized\/uninitialized or text segment of the computer&#8217;s memory (RAM). This allows them to be accessible and shared across different parts of the program, ensuring that all instances of a particular identifier with external linkage refer to the same identifier in the program.<\/p>\n\n\n\n<p>Example <\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ C code to illustrate External Linkage\n#include &lt;stdio.h&gt;\n  \nvoid foo()\n{\n    int a;\n    extern int b; \/\/ line 1\n}\n  \nvoid bar()\n{\n    int c;\n    c = b; \/\/ error\n}\n  \nint main()\n{\n    foo();\n    bar();\n}\nError: 'b' was not declared in this scope<\/code><\/pre>\n\n\n\n<p><strong>Explanation:<\/strong><\/p>\n\n\n\n<p>The variable &#8220;b&#8221; has local scope within the function &#8220;foo,&#8221; even though it is declared as an extern variable. It&#8217;s important to understand that the concept of scope is primarily used during the compilation phase of a program. After the program is compiled, there is no concept of &#8220;scope of variable.&#8221;<\/p>\n\n\n\n<p>During compilation, the compiler takes into account the scope of &#8220;b.&#8221; In this case, &#8220;b&#8221; has local scope within the &#8220;foo()&#8221; function. When the compiler encounters the extern declaration, it assumes that there is a definition of &#8220;b&#8221; somewhere else and defers the task of finding it to the linker.<\/p>\n\n\n\n<p>However, when the compiler processes the &#8220;bar()&#8221; function, it attempts to locate the variable &#8220;b.&#8221; Since &#8220;b&#8221; has been declared as extern, it hasn&#8217;t been assigned memory by the compiler; it essentially doesn&#8217;t exist yet at this stage. The compiler relies on the linker to locate the definition of &#8220;b&#8221; within the translation unit and then assign it the value specified in that definition. Only after this process does &#8220;b&#8221; come into existence with memory allocated.<\/p>\n\n\n\n<p>But, because there&#8217;s no declaration for &#8220;b&#8221; within the scope of &#8220;bar()&#8221;\u2014neither within the function nor in the global scope\u2014the compiler encounters an error. It&#8217;s the compiler&#8217;s responsibility to ensure that all variables are used within their respective scopes, and when it encounters &#8220;b&#8221; in &#8220;bar()&#8221; without a matching declaration, it raises an error and halts the compilation process.<\/p>\n\n\n\n<p>To resolve this issue, you can make &#8220;b&#8221; a global variable by moving line 1 (the extern declaration) to a location before the definition of the &#8220;foo()&#8221; function. This makes &#8220;b&#8221; accessible in both &#8220;foo()&#8221; and &#8220;bar()&#8221; functions.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"faq-internal-linkage-and-external-linkage-in-c\">FAQ- Internal Linkage And External Linkage In C<\/h2>\n\n\n<div id=\"rank-math-faq\" class=\"rank-math-block\">\n<div class=\"rank-math-list \">\n<div id=\"faq-question-1694608543780\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q1. What is an internal linkage in C language?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. An identifier with internal linkage is only accessible within the translation unit where it&#8217;s declared. Any identifier within the same unit can access an identifier with internal linkage. This linkage is established using the &#8220;static&#8221; keyword in C or C++.<\/p>\n\n<\/div>\n<\/div>\n<div id=\"faq-question-1694608554072\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q2. What is external linkage in C programming?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. In C, all global identifiers inherently have external linkage by default. This means that every declaration of a particular identifier with external linkage refers to the same object or function throughout the entire program. The &#8220;extern&#8221; keyword is used to explicitly establish external linkage for variables and functions in C.<\/p>\n\n<\/div>\n<\/div>\n<div id=\"faq-question-1694608567069\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q3. What are the different types of linking in C?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. Linking in software development comes in two flavors: Static Linking and Dynamic Linking.<br \/>Static Linking: The linker incorporates library code directly into the executable, making the program self-contained. It ensures the program runs independently but can result in larger files.<br \/>Dynamic Linking: Programs use external libraries at runtime instead of including them in the executable. It reduces disk space but requires libraries on the target system. The choice depends on factors like portability and resource usage.<\/p>\n\n<\/div>\n<\/div>\n<\/div>\n<\/div>","protected":false},"excerpt":{"rendered":"<p>Internal Linkage And External Linkage In C In the world of C programming, we need to understand how variables and functions are connected within our code. Two important ideas in this context are &#8220;Internal Linkage&#8221; and &#8220;External Linkage.&#8221; These concepts determine where variables and functions can be used and shared in a C program. In &#8230; <a title=\"Internal Linkage And External Linkage In C\" class=\"read-more\" href=\"https:\/\/www.skillvertex.com\/blog\/internal-linkage-and-external-linkage-in-c\/\" aria-label=\"More on Internal Linkage And External Linkage In C\">Read more<\/a><\/p>\n","protected":false},"author":4,"featured_media":1852,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[27],"tags":[310],"class_list":["post-1849","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-c-programming","tag-internal-linkage-and-external-linkage-in-c","generate-columns","tablet-grid-50","mobile-grid-100","grid-parent","grid-33"],"_links":{"self":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/1849"}],"collection":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/comments?post=1849"}],"version-history":[{"count":9,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/1849\/revisions"}],"predecessor-version":[{"id":10605,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/1849\/revisions\/10605"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/media\/1852"}],"wp:attachment":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/media?parent=1849"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/categories?post=1849"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/tags?post=1849"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}